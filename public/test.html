<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>
$(document).ready(function(){
  $("#btnRun").click(function(){
      console.log("run button clicked");
      var code = $('#code').val();
      var stdinput = $('#stdinput').val();

      var test = { code: code, stdinput: stdinput};
      console.log(test);
      console.log("sent to server using ajax");
   
      $.ajax({ method: "post", url: "http://7thsky.in/test/run", data: JSON.stringify(test),
        contentType : "application/json", dataType: "json"
      }).done( function(data, status){
        console.log("server response for run test api " + data + ", status: " + status);
        $("#result").text(data.result);
        $("#error").text(data.error);
      });
  });
});
</script>
</head>
<body>

<form action="http://7thsky.in/test/run" method="post">
  <button type="button" id="btnRun">Run</button> 
  <button type="button" id="btnTest">Test</button>
  <br>
  Code<br>
  <textarea id ="code" rows="15" cols="50">
#include <stdio.h>
int main(){    
    char name[20];   
    printf("Enter name: ");    
    scanf("%s", name);    
    printf("Your name is %s.", name);    
    return 0;
}
  </textarea>
  <br>
  Input<br>
  <textarea id ="stdinput" rows="5" cols="50">
Ali Baba
  </textarea>
  <br>
  Result<br>
  <p id="result"></p>

  Error<br>
  <p id="error">

  </p>

</form> 

</body>
</html>
