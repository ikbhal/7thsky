<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>
$(document).ready(function(){
  $("#btnRun").click(function(){
      console.log("run button clicked");
      var code = $('#code').val();
      var stdinput = $('#stdinput').val();

      var test = { code: code, stdinput: stdinput};
      console.log(test);
      console.log("sent to server using ajax");
      $.ajax({ method: "post", url: "http://localhost:3000/wiki/about", data: JSON.stringify(test),
        contentType : "application/json", dataType: "json"
        }).done( function(data, status){
        console.log("server response for run test api " + data + ", status: " + status);
        //$("#result").text("result will come soon");
        $("#result").text(data.result);
        $("#error").text(data.error);
      });
  });
});
</script>
</head>
<body>

<form >
  <button type="button" id="btnRun">Run</button></form> 
  <h5>Code</h5>
  <textarea id ="code" rows="15" cols="50">
#include <stdio.h>
int main(){    
    char name[20];   
    printf("Enter name: ");    
    scanf("%s", name);    
    printf("Your name is %s.", name);    
    return 0;
}
  </textarea>
  <br>
  <h5>Input</h5>
  <textarea id ="stdinput" rows="5" cols="50">
Ali Baba
  </textarea>
  <br>
  <h5>Result</h5>
  <p id="result"></p>

  <h5>Error</h5>
  <p id="error">

  </p>

</body>
</html>
